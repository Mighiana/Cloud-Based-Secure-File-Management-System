@model List<string>
@{
    Layout = "_AdminLayout";
    ViewData["Title"] = "List / Download / Delete Files";
}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm secure-card-main">
                <div class="card-body">
                    <h2 class="card-title">Files in Bucket</h2>
                    @if (TempData["Success"] != null)
                    {
                        <div class="alert alert-success alert-dark">@TempData["Success"]</div>
                    }
                    @if (TempData["Error"] != null)
                    {
                        <div class="alert alert-danger alert-dark">@TempData["Error"]</div>
                    }
                    <a href="/File/Upload" class="btn btn-outline-primary mb-3">Upload New File</a>
                    @if (Model == null || !Model.Any())
                    {
                        <p class="text-muted">No files uploaded yet.</p>
                    }
                    else
                    {
                        <div class="table-responsive">
                            <table class="table table-dark table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>File Key</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i < Model.Count; i++)
                                    {
                                        <tr>
                                            <td>@(i + 1)</td>
                                            <td>@Model[i]</td>
                                            <td>
                                                <a class="btn btn-outline-success btn-sm" href="@Url.Action("Download", "File", new { key = Model[i] })">Download</a>
                                                <form method="post" asp-action="Delete" asp-controller="File" asp-route-key="@Model[i]" style="display:inline;">
                                                    <button type="submit" class="btn btn-outline-danger btn-sm ms-1">Delete</button>
                                                </form>
                                                <a asp-action="BackupToGlacier" asp-route-key="@Model[i]" class="btn btn-outline-secondary btn-sm ms-1">Backup Glacier</a>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Dark Theme Adjustments for Table & Buttons */
    .table-dark {
        --bs-table-bg: #161b22;
        --bs-table-striped-bg: #1a2332;
        --bs-table-striped-color: #ffffff;
        --bs-table-hover-bg: #2c3e50;
        --bs-table-hover-color: #ffffff;
        color: #ffffff;
    }

        .table-dark th {
            background-color: #1a2332;
            color: #ffffff;
            border-color: #2c3e50;
        }

        .table-dark td {
            border-color: #2c3e50;
            color: #ffffff;
        }

    .btn-outline-success {
        color: #27ae60;
        border-color: #27ae60;
    }

        .btn-outline-success:hover {
            background-color: #27ae60;
            color: white;
        }

    .btn-outline-danger {
        color: #e74c3c;
        border-color: #e74c3c;
    }

        .btn-outline-danger:hover {
            background-color: #e74c3c;
            color: white;
        }

    .btn-outline-secondary {
        color: #95a5a6;
        border-color: #95a5a6;
    }

        .btn-outline-secondary:hover {
            background-color: #95a5a6;
            color: white;
        }

    .alert-dark {
        background-color: #2c3e50;
        border-color: #34495e;
        color: #ecf0f1;
    }

    .secure-card-main {
        background: linear-gradient(135deg, #161b22, #0d1117);
        border: 1px solid #2c3e50;
        color: #ecf0f1;
    }

        .secure-card-main .card-title {
            color: #ecf0f1;
        }
</style>